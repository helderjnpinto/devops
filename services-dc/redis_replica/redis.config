# ============================================
# Local Redis Replica Configuration (ACL-enabled)
# ============================================

bind 0.0.0.0
port 6379

# Optional local password for Redpanda Connect
requirepass your_local_redis_password

# Replica configuration
replicaof ${OVH_REDIS_HOST} ${OVH_REDIS_PORT}

# âœ… ACL-based auth: specify both username and password
masteruser ${OVH_REDIS_USERNAME}
masterauth ${OVH_REDIS_PASSWORD}

# Persistence
appendonly yes
appendfsync everysec
save 300 1
dir /data
logfile /data/redis.log

# Increase timeouts for WAN replication
repl-timeout 120
repl-ping-replica-period 30
replica-read-only yes
